<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="ch.avectris.todo.TodoListClient.controller.Master" displayBlock="true">
	<Shell id="shell">
		<App id="app">
			<pages>
				<Page id="page" title="{i18n>title}">
					<content>
						<List 
							items="{
								path: 'todo_service>/todo_itemsSet',
								sorter: {
									path: 'done',
									descending: false,
									group: true
								},
								groupHeaderFactory: '.getGroupHeader'
							}"
							noDataText="No data available"
							id="todo_list"
							growing="true"
							growingThreshold="10"
							growingScrollToLoad="true">
							<items>
								<ObjectListItem type="Navigation" press=".onTodoPress" icon="" title="{todo_service>title}">
									<attributes>
										<ObjectAttribute title="Beschreibung" text="{todo_service>description}"/>
										<ObjectAttribute title="Fertigstellung" text="{ path: 'todo_service>finishDate', formatter: '.formatter.dateFormat'}"/>
									</attributes>
									<markers>
										<ObjectMarker type="{= ${todo_service>done} ? 'Flagged' : 'Favorite' }" additionalInfo="T"/>
									</markers>
									<firstStatus>
										<ObjectStatus
											text="{path: 'todo_service>finishDate', formatter: '.formatter.checkIfDelayedText'}"
											state="{path: 'todo_service>finishDate', formatter: '.formatter.checkIfDelayedState'}"
											visible="{= !${todo_service>done}}"
										></ObjectStatus>
									</firstStatus>
								</ObjectListItem>
							</items>
						</List>
					</content>
					<footer>
						<Bar>
							<contentRight>
								<Button text="New" press="onNewPress" icon="sap-icon://write-new"/>
							</contentRight>
						</Bar>
					</footer>
				</Page>
			</pages>
		</App>
	</Shell>
</mvc:View>